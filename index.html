<!DOCTYPE html>

<html lang="pt-br" class="scroll-smooth">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Estaciona+ • Controle de Placas</title>



  <!-- Fonte -->

  <link rel="preconnect" href="https://fonts.googleapis.com">

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">



  <!-- Tailwind via CDN -->

  <script src="https://cdn.tailwindcss.com"></script>

  <script>

    tailwind.config = {

      darkMode: 'class',

      theme: {

        extend: {

          fontFamily: { sans: ['Inter', 'ui-sans-serif', 'system-ui'] },

          boxShadow: {

            'glow': '0 0 0 4px rgb(59 130 246 / 20%)',

          },

          keyframes: {

            fadeIn: { '0%': { opacity: 0, transform:'translateY(8px)' }, '100%': { opacity: 1, transform:'translateY(0)'} },

            pop: { '0%': { transform:'scale(0.95)', opacity:0 }, '100%': { transform:'scale(1)', opacity:1 }},

          },

          animation: {

            fadeIn: 'fadeIn .35s ease-out',

            pop: 'pop .2s ease-out',

          }

        }

      }

    }

  </script>



  <!-- Ícones -->

  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>



  <style>

    ::-webkit-scrollbar{ width:10px; height:10px }

    ::-webkit-scrollbar-thumb{ background:rgba(100,100,100,.25); border-radius:999px }

    ::-webkit-scrollbar-track{ background:transparent }

  </style>

</head>

<body class="bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100">

  <!-- Header -->

  <header class="sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-white/70 dark:supports-[backdrop-filter]:bg-slate-900/60 border-b border-slate-200/60 dark:border-slate-800">

    <div class="max-w-6xl mx-auto px-4 sm:px-6 py-3 flex items-center gap-3">

      <div class="flex items-center gap-2 font-extrabold tracking-tight text-xl">

        <span class="inline-flex size-8 items-center justify-center rounded-2xl bg-blue-600 text-white shadow-glow animate-pop">

          <i data-lucide="parking-square" class="w-5 h-5"></i>

        </span>

        <a href="#inicio" class="hover:opacity-80 transition">Estaciona+</a>

      </div>

      <nav class="ml-auto hidden sm:flex items-center gap-2 text-sm">

        <a href="#inicio" class="px-3 py-1.5 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition">Início</a>

        <a href="#placas" class="px-3 py-1.5 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition">Placas</a>

        <a href="#relatorios" class="px-3 py-1.5 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition">Relatórios</a>

        <a href="#config" class="px-3 py-1.5 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition">Config</a>

      </nav>

      <button id="themeToggle" class="ml-2 inline-flex items-center gap-2 px-3 py-1.5 rounded-xl border border-slate-200 dark:border-slate-800 hover:bg-slate-100 dark:hover:bg-slate-800 transition text-sm">

        <i data-lucide="sun" class="w-4 h-4 block dark:hidden"></i>

        <i data-lucide="moon" class="w-4 h-4 hidden dark:block"></i>

        <span class="hidden sm:inline">Tema</span>

      </button>

    </div>

  </header>



  <main class="max-w-6xl mx-auto px-4 sm:px-6 py-6">

    <!-- Conteúdo será inserido aqui via JavaScript -->

    <div id="app-content"></div>

  </main>



  <!-- Footer Mobile -->

  <footer class="sticky bottom-0 z-40 md:hidden backdrop-blur supports-[backdrop-filter]:bg-white/70 dark:supports-[backdrop-filter]:bg-slate-900/60 border-t border-slate-200/60 dark:border-slate-800">

    <div class="max-w-6xl mx-auto px-4 py-2 flex items-center justify-around text-xs">

      <a href="#inicio" class="flex flex-col items-center gap-1 p-2 rounded-xl active:scale-95 transition"><i data-lucide="home" class="w-5 h-5"></i>Início</a>

      <a href="#placas" class="flex flex-col items-center gap-1 p-2 rounded-xl active:scale-95 transition"><i data-lucide="list-checks" class="w-5 h-5"></i>Placas</a>

      <a href="#relatorios" class="flex flex-col items-center gap-1 p-2 rounded-xl active:scale-95 transition"><i data-lucide="pie-chart" class="w-5 h-5"></i>Relatórios</a>

      <a href="#config" class="flex flex-col items-center gap-1 p-2 rounded-xl active:scale-95 transition"><i data-lucide="settings" class="w-5 h-5"></i>Config</a>

    </div>

  </footer>



  <script>

    // CONFIGURAÇÃO

    const API_BASE_URL = 'https://estacionamento2.up.railway.app/api/veiculos';

    let veiculos = [];

    let isOnline = false;

    let currentTab = 'todos';

    let currentSearch = '';



    // INICIALIZAÇÃO

    document.addEventListener('DOMContentLoaded', function() {

      carregarDados();

      verificarConexao();

      renderizarApp();

      configurarEventos();



      // Verificar conexão a cada 30 segundos

      setInterval(verificarConexao, 30000);

    });



    // CARREGAR DADOS

    function carregarDados() {

      const dadosSalvos = localStorage.getItem('estacionaplus_data');

      if (dadosSalvos) {

        veiculos = JSON.parse(dadosSalvos);

      }

    }



    // SALVAR DADOS

    function salvarDados() {

      localStorage.setItem('estacionaplus_data', JSON.stringify(veiculos));

    }



    // VERIFICAR CONEXÃO

    async function verificarConexao() {

      try {

        const response = await fetch(API_BASE_URL);

        isOnline = response.ok;

        atualizarStatus();



        // Se voltou online, tenta sincronizar

        if (isOnline) {

          setTimeout(sincronizarPendentes, 1000);

        }

      } catch (error) {

        isOnline = false;

        atualizarStatus();

      }

    }



    // ATUALIZAR STATUS

    function atualizarStatus() {

      const statusElement = document.getElementById('status-alert');

      if (statusElement) {

        if (isOnline) {

          statusElement.innerHTML = `

            <div class="flex items-center gap-2">

              <i data-lucide="wifi" class="w-4 h-4 text-green-600"></i>

              <span class="text-green-800 text-sm">Conectado ao servidor</span>

            </div>

          `;

          statusElement.className = 'p-3 rounded-xl bg-green-50 border border-green-200 animate-fadeIn';

        } else {

          statusElement.innerHTML = `

            <div class="flex items-center gap-2">

              <i data-lucide="wifi-off" class="w-4 h-4 text-amber-600"></i>

              <span class="text-amber-800 text-sm">Modo offline - dados salvos localmente</span>

              <button onclick="sincronizarPendentes()" class="ml-auto bg-amber-100 hover:bg-amber-200 text-amber-800 px-3 py-1 rounded-lg text-sm transition">

                Sincronizar

              </button>

            </div>

          `;

          statusElement.className = 'p-3 rounded-xl bg-amber-50 border border-amber-200 animate-fadeIn';

        }

        window.lucide.createIcons();

      }

    }



    // CONFIGURAR EVENTOS

    function configurarEventos() {

      // Tema

      document.getElementById('themeToggle').addEventListener('click', function() {

        document.documentElement.classList.toggle('dark');

        window.lucide.createIcons();

      });



      // Navegação

      document.querySelectorAll('nav a, footer a').forEach(link => {

        link.addEventListener('click', function(e) {

          e.preventDefault();

          const target = this.getAttribute('href').substring(1);

          document.getElementById(target).scrollIntoView({ behavior: 'smooth' });

        });

      });

    }



    // RENDERIZAR APP COMPLETO

    function renderizarApp() {

      const appContent = document.getElementById('app-content');

      appContent.innerHTML = `

        <!-- Status Alert -->

        <div id="status-alert" class="mb-6"></div>



        <!-- Seção Início -->

        <section id="inicio" class="scroll-mt-24 py-6">

          <div class="flex items-end justify-between mb-3">

            <div>

              <h2 class="text-xl sm:text-2xl font-bold tracking-tight">Resumo</h2>

              <p class="text-sm text-slate-500 dark:text-slate-400">Visão geral rápida do caixa e movimentação</p>

            </div>

          </div>

          <div class="grid grid-cols-2 sm:grid-cols-4 gap-3" id="resumo-cards"></div>

        </section>



        <!-- Seção Placas -->

        <section id="placas" class="scroll-mt-24 py-6">

          <div class="flex items-end justify-between mb-3">

            <div>

              <h2 class="text-xl sm:text-2xl font-bold tracking-tight">Placas</h2>

              <p class="text-sm text-slate-500 dark:text-slate-400">Gerencie entradas, pagamentos e valores</p>

            </div>

            <a href="#relatorios" class="hidden md:inline-flex items-center gap-2 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-800 hover:bg-slate-100 dark:hover:bg-slate-800">

              <i data-lucide="pie-chart" class="w-4 h-4"></i>

              Ir para Relatórios

            </a>

          </div>

          <div class="grid gap-4">

            <!-- Formulário -->

            <form id="add-form" class="grid gap-3 md:grid-cols-12 items-end p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/40 animate-fadeIn">

              <div class="md:col-span-3">

                <label class="text-xs text-slate-500 dark:text-slate-400">Placa</label>

                <input type="text" id="placa-input" placeholder="ABC-1234" class="w-full mt-1 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 outline-none focus:ring-4 focus:ring-blue-500/20">

              </div>

              <div>

                <label class="text-xs text-slate-500 dark:text-slate-400">Tipo</label>

                <select id="tipo-select" class="w-full mt-1 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 outline-none focus:ring-4 focus:ring-blue-500/20">

                  <option value="carro">Carro</option>

                  <option value="moto">Moto</option>

                </select>

              </div>

              <div class="md:col-span-2">

                <label class="text-xs text-slate-500 dark:text-slate-400">Valor (R$)</label>

                <input type="number" id="valor-input" step="0.01" min="0" placeholder="0,00" class="w-full mt-1 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 outline-none focus:ring-4 focus:ring-blue-500/20">

              </div>

              <div class="md:col-span-2">

                <label class="text-xs text-slate-500 dark:text-slate-400">Pagamento</label>

                <select id="pagamento-select" class="w-full mt-1 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 outline-none focus:ring-4 focus:ring-blue-500/20">

                  <option value="dinheiro">Dinheiro</option>

                  <option value="pix">Pix</option>

                </select>

              </div>

              <div class="flex items-center gap-2 md:col-span-2">

                <input type="checkbox" id="pago-checkbox" class="w-4 h-4 rounded border-slate-300 text-blue-600">

                <label for="pago-checkbox" class="text-sm">Pago</label>

              </div>

              <div class="md:col-span-2 flex justify-end">

                <button type="submit" class="w-full md:w-auto inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-600 text-white hover:brightness-110 active:scale-95 transition">

                  <i data-lucide="plus" class="w-4 h-4"></i>

                  Adicionar

                </button>

              </div>

            </form>



            <!-- Tabs e Busca -->

            <div class="flex flex-col sm:flex-row gap-3 items-stretch sm:items-center">

              <div class="flex w-full overflow-x-auto gap-2 pb-1" id="tabs-container"></div>

              <div class="flex-1"></div>

              <div class="relative">

                <i data-lucide="search" class="w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"></i>

                <input type="text" id="search-input" placeholder="Buscar placa..." class="w-full sm:w-64 pl-9 pr-3 py-2 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 outline-none focus:ring-4 focus:ring-blue-500/20">

              </div>

            </div>



            <!-- Lista -->

            <div id="veiculos-list" class="grid gap-3"></div>

          </div>

        </section>



        <!-- Seção Relatórios -->

        <section id="relatorios" class="scroll-mt-24 py-6">

          <div class="flex items-end justify-between mb-3">

            <div>

              <h2 class="text-xl sm:text-2xl font-bold tracking-tight">Relatórios</h2>

              <p class="text-sm text-slate-500 dark:text-slate-400">Totais por tipo, status e formas de pagamento</p>

            </div>

          </div>

          <div id="relatorios-content"></div>

        </section>



        <!-- Seção Config -->

        <section id="config" class="scroll-mt-24 py-6">

          <div class="flex items-end justify-between mb-3">

            <div>

              <h2 class="text-xl sm:text-2xl font-bold tracking-tight">Configurações</h2>

              <p class="text-sm text-slate-500 dark:text-slate-400">Tema, backup e mais</p>

            </div>

          </div>

          <div id="config-content"></div>

        </section>

      `;



      // Configurar eventos dos formulários

      document.getElementById('add-form').addEventListener('submit', adicionarVeiculo);

      document.getElementById('search-input').addEventListener('input', function(e) {

        currentSearch = e.target.value;

        renderizarVeiculos();

      });



      // Renderizar conteúdo

      atualizarStatus();

      renderizarResumo();

      renderizarTabs();

      renderizarVeiculos();

      renderizarRelatorios();

      renderizarConfig();



      // Criar ícones

      window.lucide.createIcons();

    }



    // FUNÇÕES PRINCIPAIS

    async function adicionarVeiculo(e) {

      e.preventDefault();



      const placa = document.getElementById('placa-input').value.trim().toUpperCase();

      const tipo = document.getElementById('tipo-select').value;

      const valor = parseFloat(document.getElementById('valor-input').value) || 0;

      const formaPagamento = document.getElementById('pagamento-select').value;

      const pago = document.getElementById('pago-checkbox').checked;



      if (!placa) {

        alert('Por favor, informe a placa do veículo');

        return;

      }



      // Verificar se placa já existe

      if (veiculos.some(v => v.placa === placa)) {

        alert('Esta placa já está cadastrada!');

        return;

      }



      const novoVeiculo = {

        id: Date.now().toString(),

        placa,

        tipo,

        valor,

        formaPagamento,

        pago,

        entrada: new Date().toISOString(),

        sincronizado: false

      };



      // Salvar localmente

      veiculos.unshift(novoVeiculo);

      salvarDados();



      // Tentar enviar para API

      if (isOnline) {

        try {

          const response = await fetch(API_BASE_URL, {

            method: 'POST',

            headers: { 'Content-Type': 'application/json' },

            body: JSON.stringify(novoVeiculo)

          });



          if (response.ok) {

            novoVeiculo.sincronizado = true;

            salvarDados();

          }

        } catch (error) {

          console.log('API offline, salvando localmente');

        }

      }



      // Atualizar interface

      renderizarResumo();

      renderizarVeiculos();

      renderizarRelatorios();



      // Limpar formulário

      document.getElementById('add-form').reset();

    }




    // [CONTINUA... AS OUTRAS FUNÇÕES SERIAM IMPLEMENTADAS AQUI]




    // FUNÇÕES DE RENDERIZAÇÃO

    function renderizarResumo() {

      const carros = veiculos.filter(v => v.tipo === 'carro');

@@ -517,6 +515,126 @@

      window.lucide.createIcons();

    }




    // RELATÓRIOS COMPLETOS


    function renderizarRelatorios() {


      const carros = veiculos.filter(v => v.tipo === 'carro');


      const motos = veiculos.filter(v => v.tipo === 'moto');


      


      const totalCarrosPago = carros.filter(v => v.pago).reduce((s, v) => s + v.valor, 0);


      const totalMotosPago = motos.filter(v => v.pago).reduce((s, v) => s + v.valor, 0);


      const pendCarros = carros.filter(v => !v.pago).reduce((s, v) => s + v.valor, 0);


      const pendMotos = motos.filter(v => !v.pago).reduce((s, v) => s + v.valor, 0);


      


      const totalGeral = totalCarrosPago + totalMotosPago + pendCarros + pendMotos;


      const totalPagos = totalCarrosPago + totalMotosPago;


      const totalPendentes = pendCarros + pendMotos;


      


      const totalPix = veiculos.filter(v => v.pago && v.formaPagamento === 'pix').reduce((s, v) => s + v.valor, 0);


      const totalDinheiro = veiculos.filter(v => v.pago && v.formaPagamento === 'dinheiro').reduce((s, v) => s + v.valor, 0);


      const quantidadePix = veiculos.filter(v => v.pago && v.formaPagamento === 'pix').length;


      const quantidadeDinheiro = veiculos.filter(v => v.pago && v.formaPagamento === 'dinheiro').length;





      const relatoriosHTML = `


        <div class="grid md:grid-cols-2 gap-4">


          <div class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/40">


            <h3 class="font-semibold mb-2 flex items-center gap-2"><i data-lucide="car" class="w-5 h-5"></i>Carros</h3>


            <ul class="text-sm grid gap-1">


              <li class="flex justify-between"><span>Arrecadado (pagos)</span><span class="font-semibold">R$ ${totalCarrosPago.toFixed(2)}</span></li>


              <li class="flex justify-between"><span>Pendente</span><span class="font-semibold">R$ ${pendCarros.toFixed(2)}</span></li>


              <li class="flex justify-between"><span>Subtotal</span><span class="font-semibold">R$ ${(totalCarrosPago + pendCarros).toFixed(2)}</span></li>


              <li class="flex justify-between"><span>Itens</span><span class="font-semibold">${carros.length}</span></li>


            </ul>


          </div>


          <div class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/40">


            <h3 class="font-semibold mb-2 flex items-center gap-2"><i data-lucide="motorcycle" class="w-5 h-5"></i>Motos</h3>


            <ul class="text-sm grid gap-1">


              <li class="flex justify-between"><span>Arrecadado (pagos)</span><span class="font-semibold">R$ ${totalMotosPago.toFixed(2)}</span></li>


              <li class="flex justify-between"><span>Pendente</span><span class="font-semibold">R$ ${pendMotos.toFixed(2)}</span></li>


              <li class="flex justify-between"><span>Subtotal</span><span class="font-semibold">R$ ${(totalMotosPago + pendMotos).toFixed(2)}</span></li>


              <li class="flex justify-between"><span>Itens</span><span class="font-semibold">${motos.length}</span></li>


            </ul>


          </div>


        </div>


        


        <!-- Total Geral -->


        <div class="mt-4 p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/40">


          <h3 class="font-semibold mb-3 flex items-center gap-2 text-lg">


            <i data-lucide="dollar-sign" class="w-5 h-5 text-emerald-600"></i>


            Total Geral


          </h3>


          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">


            <div class="text-center p-4 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800">


              <div class="text-2xl font-bold text-emerald-600 dark:text-emerald-400">R$ ${totalGeral.toFixed(2)}</div>


              <div class="text-sm text-slate-600 dark:text-slate-300 mt-1">Valor Total</div>


            </div>


            <div class="text-center p-4 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800">


              <div class="text-2xl font-bold text-blue-600 dark:text-blue-400">R$ ${totalPagos.toFixed(2)}</div>


              <div class="text-sm text-slate-600 dark:text-slate-300 mt-1">Total Pago</div>


            </div>


            <div class="text-center p-4 rounded-xl bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800">


              <div class="text-2xl font-bold text-amber-600 dark:text-amber-400">R$ ${totalPendentes.toFixed(2)}</div>


              <div class="text-sm text-slate-600 dark:text-slate-300 mt-1">Total Pendente</div>


            </div>


          </div>


        </div>





        <!-- Formas de Pagamento -->


        <div class="mt-4 p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/40">


          <h3 class="font-semibold mb-3 flex items-center gap-2 text-lg">


            <i data-lucide="credit-card" class="w-5 h-5 text-purple-600"></i>


            Formas de Pagamento


          </h3>


          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">


            <div class="text-center p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800">


              <div class="text-2xl font-bold text-green-600 dark:text-green-400">R$ ${totalPix.toFixed(2)}</div>


              <div class="text-sm text-slate-600 dark:text-slate-300 mt-1">Total Pix</div>


              <div class="text-xs text-slate-500 dark:text-slate-400 mt-1">${quantidadePix} pagamento(s)</div>


            </div>


            <div class="text-center p-4 rounded-xl bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800">


              <div class="text-2xl font-bold text-yellow-600 dark:text-yellow-400">R$ ${totalDinheiro.toFixed(2)}</div>


              <div class="text-sm text-slate-600 dark:text-slate-300 mt-1">Total Dinheiro</div>


              <div class="text-xs text-slate-500 dark:text-slate-400 mt-1">${quantidadeDinheiro} pagamento(s)</div>


            </div>


          </div>


          <div class="mt-3 text-center">


            <div class="text-sm text-slate-500 dark:text-slate-400">


              Total de pagamentos: <span class="font-semibold">${quantidadePix + quantidadeDinheiro}</span> • 


              Pix: <span class="font-semibold text-green-600">${quantidadePix}</span> • 


              Dinheiro: <span class="font-semibold text-yellow-600">${quantidadeDinheiro}</span>


            </div>


          </div>


        </div>


      `;


      


      document.getElementById('relatorios-content').innerHTML = relatoriosHTML;


      window.lucide.createIcons();


    }





    function renderizarConfig() {


      const configHTML = `


        <div class="grid gap-4">


          <div class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/40">


            <div class="flex items-center justify-between">


              <div>


                <div class="font-semibold">Dados</div>


                <div class="text-sm text-slate-500 dark:text-slate-400">Backup e limpeza</div>


              </div>


              <div class="flex items-center gap-2">


                <button onclick="exportarDados()" class="px-3 py-1.5 rounded-xl bg-emerald-600 text-white hover:brightness-110">Exportar</button>


                <label class="px-3 py-1.5 rounded-xl border border-slate-200 dark:border-slate-800 cursor-pointer">


                  Importar


                  <input type="file" accept="application/json" class="hidden" onchange="importarDados(event)">


                </label>


                <button onclick="limparTudo()" class="px-3 py-1.5 rounded-xl bg-red-600 text-white hover:brightness-110">Limpar tudo</button>


              </div>


            </div>


          </div>


        </div>


      `;


      


      document.getElementById('config-content').innerHTML = configHTML;


    }




    // FUNÇÕES AUXILIARES

    async function alternarPago(id) {

      const veiculo = veiculos.find(v => v.id === id);

@@ -561,6 +679,7 @@

      }

    }




    // SINCRONIZAÇÃO COMPLETA

    async function sincronizarPendentes() {

      if (!isOnline) {

        alert('Conecte-se à internet para sincronizar');

@@ -581,35 +700,70 @@

          if (response.ok) {

            veiculo.sincronizado = true;

            sucessos++;


            salvarDados();

          }

        } catch (error) {

          console.log('Erro ao sincronizar:', veiculo.placa);

        }

      }




      salvarDados();

      renderizarVeiculos();



      if (sucessos > 0) {

        alert(`${sucessos} veículos sincronizados com sucesso!`);


      } else if (pendentes.length > 0) {


        alert('Erro ao sincronizar veículos. Tente novamente.');


      } else {


        alert('Todos os dados já estão sincronizados!');

      }

    }




    // [FUNÇÕES renderizarRelatorios() e renderizarConfig() SERIAM IMPLEMENTADAS AQUI]


    function renderizarRelatorios() {


      document.getElementById('relatorios-content').innerHTML = `


        <div class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/40">


          <p class="text-sm text-slate-500 dark:text-slate-400">Relatórios serão implementados em breve...</p>


        </div>


      `;


    // FUNÇÕES DE BACKUP


    function exportarDados() {


      const dataStr = JSON.stringify(veiculos, null, 2);


      const dataBlob = new Blob([dataStr], { type: 'application/json' });


      const url = URL.createObjectURL(dataBlob);


      const link = document.createElement('a');


      link.href = url;


      link.download = 'backup_estaciona_plus.json';


      link.click();


      URL.revokeObjectURL(url);

    }




    function renderizarConfig() {


      document.getElementById('config-content').innerHTML = `


        <div class="p-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/40">


          <p class="text-sm text-slate-500 dark:text-slate-400">Configurações serão implementadas em breve...</p>


        </div>


      `;


    function importarDados(event) {


      const file = event.target.files[0];


      if (!file) return;





      const reader = new FileReader();


      reader.onload = function(e) {


        try {


          const dados = JSON.parse(e.target.result);


          if (Array.isArray(dados)) {


            veiculos = dados;


            salvarDados();


            renderizarResumo();


            renderizarVeiculos();


            renderizarRelatorios();


            alert('Dados importados com sucesso!');


          } else {


            alert('Arquivo inválido');


          }


        } catch (error) {


          alert('Erro ao importar arquivo');


        }


      };


      reader.readAsText(file);


    }





    function limparTudo() {


      if (confirm('Tem certeza que deseja limpar TODOS os dados? Esta ação não pode ser desfeita.')) {


        veiculos = [];


        salvarDados();


        renderizarResumo();


        renderizarVeiculos();


        renderizarRelatorios();


        alert('Todos os dados foram removidos!');


      }

    }

  </script>

</body>
